# 需求文档

> 本文档记录经确认的完整需求描述，作为开发与验收的依据。

---

## 一、项目定位

**微型内容社区平台**（AI-Coding-Museum），面向 AI Coding 垂直领域的轻量级 UGC 社区。

- **业务定位**：支持图文/短视频发布、评论、点赞、关注的社区平台
- **目标用户**：AI Coding 垂直领域创作者与兴趣社群，发布提示词、生成代码、效果录屏等内容
- **当前阶段**：MVP 验证期（6 个月内 DAU < 1 万）

---

## 二、核心功能需求

### 2.1 用户体系

- 用户注册（邮箱 + 密码）
- 用户登录 / 登出
- 会话管理（登录态保持）
- 当前用户信息获取
- 他人用户信息查看（脱敏，不展示 email）
- 预留 OAuth 扩展能力

### 2.2 内容发布与浏览

- 发帖：纯文本或带 mediaUrls（图片/视频 URL，需先上传获取）
- 时间流：按时间倒序分页，支持游标分页
- 内容列表返回作者名称、头像等关联信息

### 2.3 互动功能

- 点赞：对帖子点赞 / 取消点赞（toggle）

### 2.4 存储与扩展

- 支持图片/视频上传与展示（上传预签名 URL + 发帖 mediaUrls，已实现）

### 2.5 评论系统

- 发评论：用户对帖子发表纯文本评论
- 回复评论（楼中楼）：用户可回复某条评论，支持最多 5 层嵌套
- 评论点赞：用户可对评论点赞/取消点赞（toggle）
- 查看评论列表：获取帖子下的评论列表（含嵌套）
- 删除评论：作者本人或帖主可删除评论
- 排序规则：顶级评论按点赞数倒序，嵌套回复按时间倒序

### 2.6 用户关注

- 关注用户：单向关注其他用户
- 取消关注：取消对某用户的关注
- 关注列表：查看某用户的关注列表
- 粉丝列表：查看某用户的粉丝列表
- 关注数/粉丝数：用户主页显示统计数据
- 关注状态：查看他人主页时显示"已关注/关注"按钮状态
- 关注时间流：仅展示已关注用户的帖子（按时间倒序）

### 2.7 后续规划

- 举报机制
- 内容安全（关键词过滤 + 人工审核）

---

## 三、验收标准

- 每步开发按《技术框架设计》中的【测试方案】执行验证
- 验证记录同步至《开发进度日志》
- API 接口同步记录至《API 接口文档》
- 每步完成后经确认「通过」方可进入下一步
